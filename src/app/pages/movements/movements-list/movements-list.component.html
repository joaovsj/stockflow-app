<app-confirm 
    (confirm)="deleteItems($event)"
/>

<app-sidebar />

<app-header [titulo]="'Movimentações'" icon="arrow-right-arrow-left-solid.svg"/>

<div class="container-fluid">
    <div class="row justify-content-center mt-5">
        <div class="col-11 d-flex align-items-center" routerLink="/home">
            <i class="bi bi-arrow-left-short fs-4"></i>
            <a href="">Voltar</a>
        </div>
    </div>

    <div class="row justify-content-center align-items-center my-3 ">
        <div class="col-11 bg-white p-3 shadow rounded">
            <div class="row">
                <div class="col-3">
                    <mdb-form-control>
                        <input mdbInput type="email" id="form1Example1" class="form-control" name="name"/>
                        <label mdbLabel class="form-label" for="form1Example1">Nome do Produto</label>
                    </mdb-form-control>
                </div>

                <div class="col-2">
                    <mdb-form-control>
                        <input mdbInput type="email" id="form1Example1" class="form-control" name="role"/>
                        <label mdbLabel class="form-label" for="form1Example1">Responsável</label>
                    </mdb-form-control>
                </div>

                <div class="col">
                    <select class="form-control form-select shadow-none" id="floatingSelect" aria-label="Floating label select example">
                        <option selected>Tipo</option>
                        <option value="1">Todas Movimentações</option>
                        <option value="2">Entradas</option>
                        <option value="3">Saídas</option>
                    </select>
                </div>


                <div class="col">
                    <select class="form-control form-select shadow-none" id="floatingSelect" aria-label="Floating label select example">
                        <option selected>Categoria</option>
                        @for (category of categories; track $index) {
                            <option [value]="category.id">{{category.name}}</option>
                        } 
                    </select>
                </div>

                <div class="col-2 p-0">
                    <button type="button" class="btn btn-danger w-100" mdbRipple (click)="searchItems()">Pesquisar</button>
                </div>
                <div class="col-auto text-center">
                    <div class="row">
                        <div class="col-5">
                            <div mdbDropdown class="dropdown">

                                <button 
                                    type="button" 
                                    class="btn btn-danger btn-floating me-2 " 
                                    id="dropdownMenuButton"
                                    aria-expanded="false"
                                    mdbDropdownToggle
                                    mdbRipple
                                ><i class="bi bi-plus fs-5"></i>
                                </button>
        
                                <ul mdbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <li><a class="dropdown-item" (click)="openModal('add')">Adicionar Produto</a></li>
                                    <li><a class="dropdown-item" (click)="openModal('remove')">Retirar Produto</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-5">
                            <button type="button" class="btn btn-danger btn-floating" (click)="openDeleteModal()" mdbRipple><i class="bi bi-trash-fill"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <app-table 
        [headers]="headers"
        [data]="data"
        [indexes]="indexes"

        [resetItemsToDelete]="resetList"
        (id)="editProduct($event)"
        (itemsToDelete)="getItemsToDelete($event)"
    />
    
</div>

